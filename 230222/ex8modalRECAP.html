<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap"
        rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
        body,
        body * {
            font-family: 'Single Day';
        }
        .foodpic{
            width: 150px;
            height: 150px;
        }
        td{
            font-size: 25px;
            height: 100px;
        }
        th:first-child{
            width: 30%;
        }
        th:second-child{
            width: 35%;
        }
        th:thrid-child{
            width: 35%;
        }
</style>
</head>
<body>
    <script>
        let food_data={
            "foodlist":[
                {"foodname":"달걀샌드비치", "foodprice":"11000", "foodsrc":"../photo/food/1.jpg", "foodsummary":"이것은 달걀로 만들어진 샌드비치이다 몹시 맛이 좋다. 한때, 이것은 노동자들이 즐겨 찾는 간식이었다."},
                {"foodname":"달걀꼬치", "foodprice":"7800", "foodsrc":"../photo/food/2.jpg", "foodsummary":"이것은 달걀 꼬치이다 달걀을 무수히 꽂아 만들어진다 누군가는 이것을 위해 소중한 무언가를 지불하리라"},
                {"foodname":"달걀개장", "foodprice":"12000", "foodsrc":"../photo/food/3.jpg", "foodsummary":"달걀개장은 뚝배기에 있고, 사람이 이길 수 없다."},
                {"foodname":"달걀빙수", "foodprice":"15000", "foodsrc":"../photo/food/11.jpg", "foodsummary":"달걀을 잘 갈아 얼린 것, 이것을 위한 축제는 지금에까지 이어지나, 그 뜻은 어딘가 비틀려버리고 말았다."},
                {"foodname":"달걀라이스", "foodprice":"8900", "foodsrc":"../photo/food/6.jpg", "foodsummary":"이것은 달걀과 밥을 축복키 위해 만들어진 축제용 요리다. 여전히 많은 이들이 이 음식을 기억하며, 그리워한다."},
                {"foodname":"달걀카레", "foodprice":"19000", "foodsrc":"../photo/food/4.jpg", "foodsummary":"귀족들이 자신들의 특별함을 과시하기 위해 만들어진 음식이다. 그러나 이제는, 특별함을 넘어 특수함을 증명하는 괴식이 되어버렸다."},
            ]
        }
    </script>
    <h1 class="alert alert-success">메뉴판 제공된</h1>
    <table class="table table-striped" width="500px">
        <tr>
            <th>조리예</th>
            <th>음식 이름</th>
            <th>음식 가격</th>
        </tr>
    


    <script>
        $.each(food_data.foodlist, function(idx, item){
            let food =
            `
            <tr data-bs-toggle="modal" data-bs-target="#myModal">
                <td><img src="${item.foodsrc}" class="foodpic"></td>
                <td>${item.foodname}</td>
                <td>${item.foodprice}</td>
                <td style="display: none;"><span>${item.foodsummary}</span></td>
            </tr>    
            `;
            document.write(food);
        });
        $("tr").click(function(){
            $(".modal-body h3").text($(this).find("td:eq(0)").next().text());
            $(".modal-body img").attr("src", $(this).find("td:eq(0)").find(".foodpic").attr("src"));
            //alert($(this).find("td:eq(0)").find(".foodpic").attr("src"));
            $(".modal-body h1").text($(this).find("td:eq(0)").next().next().text()+"원");
            $(".modal-body span").text($(this).find("td:eq(0)").next().next().next().text());
        });
    </script>
    </table>

    <div class="container mt-3">
       
      <!-- The Modal -->
      <div class="modal" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Modal Heading</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
                <h3></h3>
                <img src="" class="foodpic">
                <h1></h1>
                <span></span>
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            </div>
      
          </div>
        </div>
      </div>
</body>
</html>