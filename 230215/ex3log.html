<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Nanum+Pen+Script&family=Single+Day&display=swap"
        rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body,
        body * {
            font-family: 'Single Day';
        }

        div.loginbox table tr {
            height: 40px;
        }

        div.loginbox table * {
            font-size: 20px;
        }
    </style>
    <script>
        window.onload = function () {
            //아이디가 저장된 배열변수
            let memberid = ["bit701", "angel", "happy", "java"];
            let memberpass = ["0000", "1111", "2222", "3333", "4444"]

            //처음 로딩 시 저장된 아이디와 체크 값을 얻는다
            let loginid = localStorage.id;
            let idcheck = localStorage.idcheck
            //체크값이 만약 true 라면 아이디에 값을 넣어 주고, check도 설정한다.
            if (idcheck == null || idcheck == 'false') {
                document.getElementById("chksave").removeAttribute("checked", false);
                //이거도 먹힒(굳이 삭제하지 않더라도)
                //document.getElementById("chksave").checked=false;
                document.getElementById("txtid").value = "";
            } else {
                document.getElementById("chksave").setAttribute("checked", true);
                //얘도 굴러간다
                //document.getElementById("chksave").checked=true;
                document.getElementById("txtid").value = loginid;
            }
            //false 라면 반대로


            document.getElementById("btnlogin").onclick = function () {
                let id = document.getElementById("txtid").value;
                let pw = document.getElementById("txtpass").value;
                let idcheck = document.getElementById("chksave").checked;

                let check = 0;

                for (let i = 0; i < 5; i++) {
                    if (id == memberid[i]) {
                        //같은 폴더라 바로 가는듯(당연하긴 함)
                        if (pw == memberpass[i]) {
                            localStorage.idcheck = idcheck;
                            localStorage.id = id;
                            location.href = "ex1canvas.html";
                            check=1;
                        }else if(check == 0){
                                alert("비밀번호가 다릅니다."); 
                                break;   
                        }
                    }else if(check == 0){
                                alert("아이디가 다릅니다.");
                                break;
                    }
                }
            }
        }

    </script>
</head>

<body>
    <div class="loginbox">
        <table border="1">
            <caption><b>회원 로그인</b></caption>
            <tr>
                <th bgcolor="lightgray" width="100">아이디
                <td width="200px">
                    <input type="text" id="txtid" placeholder="아이디" autofocus>
                </td>
                </th>

            </tr>

            <tr>
                <th bgcolor="lightgray" width="100">비밀번호
                <td width="200px">
                    <input type="password" id="txtpass" placeholder="비밀번호" autofocus>
                </td>
                </th>
            </tr>

            <tr>
                <th colspan="2">
                    <label><input type="checkbox" id="chksave">아이디 저장</label>
                </th>
            </tr>

            <tr>
                <td colspan="2" align="center">
                    <button type="button" id="btnlogin">회원 로그인</button>
                </td>
            </tr>


        </table>


    </div>
</body>

</html>